{"ast":null,"code":"var _jsxFileName = \"C:\\\\Digikull\\\\Assignments\\\\todolist-redux\\\\src\\\\component\\\\AddToDoList.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'; // to be able to connect to store\n\nimport { useForm } from 'react-hook-form';\n\nfunction AddToDoList(props) {\n  const [inputItem, setInputItem] = useState({\n    task: '',\n    subtask: '',\n    desc: '',\n    dt: '',\n    arrcheck: false,\n    tstatus: ''\n  }); // flag to check add / update\n\n  const [updateIndex, setUpdateIndex] = useState(-1); // to check authentification , useEffect used as componenetdidmount    \n\n  useEffect(() => {\n    if (!props.isAuth) {\n      props.history.push('/logIn');\n    }\n  }, []); //for form validation\n\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm(); // to handleon submit\n\n  const onSubmit = submit => {\n    console.log(submit, 'submit check');\n\n    if (updateIndex == -1) {\n      // to add the data in toDoArray \n      props.addMyList([submit]);\n    } else {\n      // for updating the data in toDoArray\n      props.updateMyList({\n        ind: updateIndex,\n        obj: submit\n      });\n      setUpdateIndex(-1); // resetting the flag for add option\n    }\n\n    handleclear(); // clearing the screen\n  }; // todays date in dd/mm/yyyy format     \n\n\n  var todaydt = new Date().toLocaleDateString('en-GB'); // onclick event of the checkbox in the listing\n  // incase the checkbox is clicked tstatus gets updated to Complete and vice versa\n\n  var Handleclick = ind => {\n    var arrClick = props.tdArray[ind];\n    var newStatus;\n\n    if (arrClick.tstatus == 'Complete' & arrClick.arrcheck == true) {\n      newStatus = 'Incomplete';\n    } else {\n      newStatus = 'Complete';\n    }\n\n    var newObj = {\n      arrcheck: !arrClick.arrcheck,\n      tstatus: newStatus\n    }; // to update just the tstatus and arrcheck       \n\n    props.updateMyItem({\n      ind: ind,\n      obj: newObj\n    });\n  }; // for clearing all the text boxes\n\n\n  var handleclear = () => {\n    console.log('handle clear');\n    setInputItem({\n      task: '',\n      subtask: '',\n      desc: '',\n      dt: '',\n      arrcheck: '',\n      tstatus: ''\n    });\n  }; // var HandleAdd=(inputPara)=>{\n  //   //  console.log('handle add and clear')\n  //     if (updateIndex== -1 ) \n  //     {\n  //         props.addMyList([inputPara])\n  //     }\n  //     else \n  //     {\n  //         props.updateMyList({ind: updateIndex,obj:inputPara })\n  //         setUpdateIndex(-1)\n  //     }\n  //     handleclear()\n  // }\n  // for resetting the data from the list into the textboxes for updation\n\n\n  var HandleUpdate = ind => {\n    var findItem = props.tdArray[ind];\n    setInputItem({\n      task: findItem.task,\n      subtask: findItem.subtask,\n      desc: findItem.desc,\n      dt: findItem.dt,\n      arrcheck: findItem.arrcheck,\n      tstatus: findItem.tstatus\n    });\n    setUpdateIndex(ind); // resetting the add / update flag\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disptask\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Task\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: inputItem.task,\n    name: \"task\",\n    placeholder: \"Task\" // onChange={(event)=>{setInputItem({...inputItem,task: event.target.value})}} \n    ,\n    ref: register({\n      required: {\n        value: true,\n        message: 'Task is required'\n      }\n    }),\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Sub Task\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: inputItem.subtask,\n    name: \"subtask\",\n    placeholder: \"SubTask\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  })), errors.task && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"AppError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, errors.task.message.trim()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disptextarea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"desc\",\n    value: inputItem.desc,\n    rows: \"5\",\n    cols: \"70\",\n    placeholder: \"Description\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dispdate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"dt\",\n    value: inputItem.dt,\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Status\"), updateIndex == -1 ?\n  /*#__PURE__*/\n  // checking for add\n  React.createElement(\"select\", {\n    name: \"tstatus\",\n    value: inputItem.tstatus,\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Incomplete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Incomplete\")) :\n  /*#__PURE__*/\n  // in case of an update\n  React.createElement(\"select\", {\n    value: inputItem.tstatus,\n    name: \"tstatus\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Incomplete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Incomplete\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Complete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 20\n    }\n  }, \"Completed\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dispbutton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: updateIndex == -1 ? \"Add Task\" : \"Update Task\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 16\n    }\n  }, props.tdArray.map((item, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: index,\n    name: index,\n    checked: item.arrcheck,\n    onChange: () => {\n      Handleclick(index);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: item.arrcheck ? 'truechk' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, \" \", todaydt <= new Date(item.dt).toLocaleDateString('en-GB') ? '' : /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 98\n    }\n  }, \" Task is overdue !!! \")), `${item.task} ${item.subtask} ${item.desc} \n                                ${new Date(item.dt).toLocaleDateString('en-GB')}\n                                ${item.tstatus}`), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Update\",\n    onClick: () => {\n      HandleUpdate(index);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Delete\",\n    onClick: () => {\n      props.deleteMyList(index);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    tdArray: state.toDoArray,\n    userData: state.userData,\n    isAuth: state.userData.length > 0 ? true : false\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addMyList: val => dispatch({\n      type: 'ADD_ITEM',\n      payload: val\n    }),\n    updateMyList: valu => dispatch({\n      type: 'UPDATE_ITEM',\n      payload: valu\n    }),\n    updateMyItem: val => dispatch({\n      type: 'UPDATE_SINGLE',\n      payload: val\n    }),\n    deleteMyList: value => dispatch({\n      type: 'DELETE_ITEM',\n      payload: value\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToDoList);","map":{"version":3,"sources":["C:/Digikull/Assignments/todolist-redux/src/component/AddToDoList.js"],"names":["React","useState","useEffect","connect","useForm","AddToDoList","props","inputItem","setInputItem","task","subtask","desc","dt","arrcheck","tstatus","updateIndex","setUpdateIndex","isAuth","history","push","register","errors","handleSubmit","onSubmit","submit","console","log","addMyList","updateMyList","ind","obj","handleclear","todaydt","Date","toLocaleDateString","Handleclick","arrClick","tdArray","newStatus","newObj","updateMyItem","HandleUpdate","findItem","required","value","message","trim","map","item","index","deleteMyList","mapStateToProps","state","toDoArray","userData","length","mapDispatchToProps","dispatch","val","type","payload","valu"],"mappings":"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","sourcesContent":["import React , { useState , useEffect } from 'react'\r\nimport { connect } from 'react-redux' // to be able to connect to store\r\nimport {useForm} from  'react-hook-form'\r\n\r\nfunction AddToDoList (props) {\r\n    const [inputItem , setInputItem] = useState({task:'',\r\n                                                 subtask:'',\r\n                                                 desc:'',\r\n                                                 dt:'', \r\n                                                 arrcheck: false,\r\n                                                 tstatus:''\r\n                                                })\r\n    // flag to check add / update\r\n    const [updateIndex, setUpdateIndex] = useState(-1)\r\n    // to check authentification , useEffect used as componenetdidmount    \r\n    useEffect(() => {\r\n        if (!props.isAuth ) \r\n        {\r\n            props.history.push('/logIn')\r\n        }\r\n    },[] )\r\n\r\n    //for form validation\r\n    const {register,errors,handleSubmit} = useForm()\r\n    // to handleon submit\r\n    const onSubmit = submit => {\r\n        console.log(submit,'submit check')\r\n        if (updateIndex== -1 ) \r\n        { // to add the data in toDoArray \r\n            props.addMyList([submit])\r\n        }\r\n        else \r\n        { // for updating the data in toDoArray\r\n            props.updateMyList({ind: updateIndex,obj:submit })\r\n            setUpdateIndex(-1) // resetting the flag for add option\r\n        }\r\n        handleclear() // clearing the screen\r\n    }\r\n    // todays date in dd/mm/yyyy format     \r\n    var todaydt = new Date().toLocaleDateString('en-GB')\r\n    // onclick event of the checkbox in the listing\r\n    // incase the checkbox is clicked tstatus gets updated to Complete and vice versa\r\n    var Handleclick=(ind)=>{\r\n        var arrClick = props.tdArray[ind]\r\n        var newStatus \r\n            if (arrClick.tstatus=='Complete' & arrClick.arrcheck==true )\r\n                {newStatus='Incomplete'}\r\n            else\r\n                {newStatus='Complete'}\r\n            var newObj = {arrcheck:!arrClick.arrcheck,tstatus:newStatus}\r\n            // to update just the tstatus and arrcheck       \r\n            props.updateMyItem({ind: ind,obj: newObj })\r\n    }\r\n    // for clearing all the text boxes\r\n    var handleclear=()=> {\r\n        console.log('handle clear')\r\n\r\n        setInputItem({task:'',\r\n            subtask:'',\r\n            desc:'',\r\n            dt:'', \r\n            arrcheck:'',\r\n            tstatus:''}) \r\n    }\r\n    // var HandleAdd=(inputPara)=>{\r\n    //   //  console.log('handle add and clear')\r\n    //     if (updateIndex== -1 ) \r\n    //     {\r\n    //         props.addMyList([inputPara])\r\n    //     }\r\n    //     else \r\n    //     {\r\n    //         props.updateMyList({ind: updateIndex,obj:inputPara })\r\n    //         setUpdateIndex(-1)\r\n    //     }\r\n    //     handleclear()\r\n    // }\r\n    // for resetting the data from the list into the textboxes for updation\r\n    var HandleUpdate= (ind) => {\r\n        var findItem = props.tdArray[ind]\r\n        setInputItem(\r\n            {task: findItem.task,\r\n            subtask: findItem.subtask,\r\n            desc: findItem.desc,\r\n            dt: findItem.dt, \r\n            arrcheck: findItem.arrcheck,\r\n            tstatus: findItem.tstatus\r\n           }\r\n        )\r\n        setUpdateIndex(ind) // resetting the add / update flag\r\n    }\r\n\r\n\r\n    return(\r\n    <div>\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <div className='disptask'>\r\n                \r\n                <strong>Task</strong>\r\n                \r\n                <input type='text' value={inputItem.task} name=\"task\" placeholder='Task'\r\n                // onChange={(event)=>{setInputItem({...inputItem,task: event.target.value})}} \r\n                ref={register({required: {value: true, message: 'Task is required' }})} autoFocus\r\n                /> \r\n                \r\n                <strong>Sub Task</strong>\r\n                <input type = 'text' value = {inputItem.subtask} name=\"subtask\" placeholder ='SubTask' \r\n                ref={register} />\r\n                {/* onChange={(event)=>{setInputItem({...inputItem,subtask: event.target.value})}}/>  */}\r\n            </div>\r\n            {errors.task && (\r\n                    <span className='AppError'>{errors.task.message.trim()}</span>\r\n                )}  \r\n            <div className='disptextarea'>\r\n                <strong>Description</strong>\r\n                <textarea  name='desc' value = {inputItem.desc} rows=\"5\" cols=\"70\" \r\n                placeholder='Description' ref={register} />\r\n                {/* onChange={(event)=>{setInputItem({...inputItem,desc: event.target.value})}}/> */}\r\n            </div>\r\n            \r\n            <div className='dispdate' > \r\n                <strong>Date</strong>\r\n                <input type = 'date' name='dt' value = {inputItem.dt} ref={register} />\r\n                {/* onChange={(event)=>{setInputItem({...inputItem,dt: event.target.value})}}/> */}\r\n                <strong>Status</strong>\r\n                {/* In case of an add need to have just incomplete in the dropdown */}\r\n                {updateIndex == -1 ? // checking for add\r\n                <select name='tstatus' value = {inputItem.tstatus} ref={register} >\r\n                {/* onChange={(event)=>{setInputItem({...inputItem,tstatus: event.target.value,arrcheck: false })}}>  */}\r\n                    <option value=''>Choose...</option>\r\n                    <option value='Incomplete'>Incomplete</option>\r\n                </select>: // in case of an update\r\n                <select value = {inputItem.tstatus}  name='tstatus' ref={register} >\r\n                {/* onChange={(event)=>{setInputItem({...inputItem,tstatus: event.target.value,arrcheck: false })}}>  */}\r\n                    <option value=''>Choose...</option>\r\n                    <option value='Incomplete'>Incomplete</option>\r\n                   <option value='Complete'>Completed</option>\r\n                </select>}\r\n\r\n            </div>\r\n            {/* toggel the button value based in add / update  */}\r\n            <p className='dispbutton'>\r\n                <input type = 'submit'  value ={updateIndex==-1 ? \"Add Task\" : \"Update Task\" }  />\r\n            </p>\r\n            </form>\r\n         \r\n    \r\n               <ol>\r\n                {props.tdArray.map((item, index) => (\r\n                    <li  key={index} ><strong>\r\n                        <input type=\"checkbox\" id={index} name={index}\r\n                        checked={item.arrcheck} onChange = {()=>{Handleclick(index)}}/>\r\n                        <span className={item.arrcheck? 'truechk': '' } >\r\n                            \r\n                            <span> {todaydt <= new Date(item.dt).toLocaleDateString('en-GB')?'': <strong> Task is overdue !!! </strong> }</span>\r\n                                {`${item.task} ${item.subtask} ${item.desc} \r\n                                ${new Date(item.dt).toLocaleDateString('en-GB')}\r\n                                ${item.tstatus}`}\r\n                        </span>\r\n                        <input type=\"button\" value=\"Update\" \r\n                        onClick = {()=>{HandleUpdate(index)}} />\r\n                        <input type=\"button\" value=\"Delete\" \r\n                        onClick = {()=>{props.deleteMyList(index)}} />\r\n                      \r\n                        </strong>\r\n                    </li>\r\n                        ))}\r\n                </ol>\r\n            \r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        tdArray: state.toDoArray,\r\n        userData: state.userData,\r\n        isAuth : state.userData.length > 0 ? true: false\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps =(dispatch) => {\r\n    return{\r\n        addMyList: (val) => dispatch({type:'ADD_ITEM' , payload: val}) ,\r\n        updateMyList: (valu) => dispatch({type:'UPDATE_ITEM' , payload: valu}) ,\r\n        updateMyItem: (val) => dispatch({type:'UPDATE_SINGLE' , payload:val}),\r\n        deleteMyList: (value) => dispatch({type:'DELETE_ITEM' , payload: value})\r\n        }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(AddToDoList)\r\n"]},"metadata":{},"sourceType":"module"}